@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

@theme inline {
  /* Soft Blush Palette (Primary: #E85A3F) */
  --color-soft-blush-50: #fcede9;
  --color-soft-blush-100: #f8dbd3;
  --color-soft-blush-200: #f1b7a7;
  --color-soft-blush-300: #ea937b;
  --color-soft-blush-400: #e36f4f;
  --color-soft-blush-500: #E85A3F;
  --color-soft-blush-600: #b03c1c;
  --color-soft-blush-700: #842d15;
  --color-soft-blush-800: #581e0e;
  --color-soft-blush-900: #2c0f07;
  --color-soft-blush-950: #1f0a05;

  /* Almond Cream Palette (Background: #F5F3EF) */
  --color-almond-cream-50: #F5F3EF;
  --color-almond-cream-100: #ede6de;
  --color-almond-cream-200: #dcccbc;
  --color-almond-cream-300: #cab39b;
  --color-almond-cream-400: #b99979;
  --color-almond-cream-500: #a78058;
  --color-almond-cream-600: #866646;
  --color-almond-cream-700: #644d35;
  --color-almond-cream-800: #433323;
  --color-almond-cream-900: #211a12;
  --color-almond-cream-950: #17120c;

  /* Smoky Rose Palette */
  --color-smoky-rose-50: #f4f1f1;
  --color-smoky-rose-100: #e9e2e4;
  --color-smoky-rose-200: #d3c5c8;
  --color-smoky-rose-300: #bca9ad;
  --color-smoky-rose-400: #a68c91;
  --color-smoky-rose-500: #906f76;
  --color-smoky-rose-600: #73595e;
  --color-smoky-rose-700: #564347;
  --color-smoky-rose-800: #3a2c2f;
  --color-smoky-rose-900: #1d1618;
  --color-smoky-rose-950: #141011;

  /* Mauve Shadow Palette */
  --color-mauve-shadow-50: #f4f1f2;
  --color-mauve-shadow-100: #e9e2e6;
  --color-mauve-shadow-200: #d2c6cd;
  --color-mauve-shadow-300: #bca9b3;
  --color-mauve-shadow-400: #a58d9a;
  --color-mauve-shadow-500: #8f7081;
  --color-mauve-shadow-600: #725a67;
  --color-mauve-shadow-700: #56434d;
  --color-mauve-shadow-800: #392d34;
  --color-mauve-shadow-900: #1d161a;
  --color-mauve-shadow-950: #141012;

  --color-background: var(--color-almond-cream-50);
  --color-foreground: var(--color-mauve-shadow-900);

  --color-card: var(--color-almond-cream-50);
  --color-card-foreground: var(--color-mauve-shadow-900);

  --color-popover: var(--color-almond-cream-50);
  --color-popover-foreground: var(--color-mauve-shadow-900);

  --color-primary: var(--color-soft-blush-500);
  --color-primary-foreground: white;

  --color-secondary: var(--color-smoky-rose-100);
  --color-secondary-foreground: var(--color-smoky-rose-900);

  --color-muted: var(--color-almond-cream-200);
  --color-muted-foreground: var(--color-mauve-shadow-500);

  --color-accent: var(--color-smoky-rose-200);
  --color-accent-foreground: var(--color-smoky-rose-900);

  --color-destructive: oklch(0.577 0.245 27.325);
  --color-destructive-foreground: oklch(0.985 0 0);

  --color-border: var(--color-almond-cream-200);
  --color-input: var(--color-almond-cream-200);
  --color-ring: var(--color-soft-blush-500);

  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --radius-2xl: calc(var(--radius) + 8px);
  --radius-3xl: calc(var(--radius) + 12px);
  --radius-4xl: calc(var(--radius) + 16px);
}

:root {
  --radius: 0.625rem;
}

.dark {
  --color-background: var(--color-mauve-shadow-950);
  --color-foreground: var(--color-almond-cream-50);

  --color-card: var(--color-mauve-shadow-900);
  --color-card-foreground: var(--color-almond-cream-50);

  --color-popover: var(--color-mauve-shadow-900);
  --color-popover-foreground: var(--color-almond-cream-50);

  --color-primary: var(--color-soft-blush-500);
  --color-primary-foreground: white;

  --color-secondary: var(--color-smoky-rose-800);
  --color-secondary-foreground: var(--color-smoky-rose-50);

  --color-muted: var(--color-mauve-shadow-800);
  --color-muted-foreground: var(--color-mauve-shadow-400);

  --color-accent: var(--color-smoky-rose-800);
  --color-accent-foreground: var(--color-smoky-rose-50);

  --color-destructive: oklch(0.704 0.191 22.216);
  --color-destructive-foreground: oklch(0.985 0 0);

  --color-border: var(--color-mauve-shadow-800);
  --color-input: var(--color-mauve-shadow-800);
  --color-ring: var(--color-soft-blush-400);
}

@layer base {
  html {
    scroll-behavior: smooth;
    scroll-padding-top: 5rem;
  }
  * {
    @apply border-border outline-ring/50;
  }

  body {
    @apply bg-background text-foreground;
  }
}

@layer utilities {
  .animate-subtle-drift {
    animation: drift 20s ease-in-out infinite;
  }
  .animate-subtle-pulse {
    animation: soft-pulse 15s ease-in-out infinite;
  }
  .animate-breathe {
    animation: breathe 25s ease-in-out infinite;
  }

  @keyframes drift {
    0%,
    100% {
      transform: translate(0, 0);
    }
    33% {
      transform: translate(30px, -30px);
    }
    66% {
      transform: translate(-20px, 20px);
    }
  }

  @keyframes soft-pulse {
    0%,
    100% {
      opacity: 0.4;
      scale: 1;
    }
    50% {
      opacity: 0.6;
      scale: 1.05;
    }
  }

  @keyframes breathe {
    0%,
    100% {
      scale: 1;
      opacity: 0.5;
    }
    50% {
      scale: 1.1;
      opacity: 0.4;
    }
  }
}

@layer components {
  .btn-bubble {
    --bubble-color: var(--primary);
    position: relative;
    overflow: hidden;
    isolation: isolate;
  }

  /* Bubble pseudo-elements */
  .btn-bubble::before,
  .btn-bubble::after {
    content: "";
    width: 150%;
    aspect-ratio: 1/1;
    scale: 0;
    transition: 1000ms cubic-bezier(0.76, 0, 0.24, 1);
    background-color: var(--bubble-color);
    border-radius: 50%;
    position: absolute;
    top: 0;
    left: 0;
    translate: -50% -50%;
    z-index: -1;
    pointer-events: none;
  }

  .btn-bubble::after {
    top: 100%;
    left: 100%;
  }

  .btn-bubble:hover::before,
  .btn-bubble:hover::after {
    scale: 1;
  }

  /* Ensure text is on top */
  .btn-bubble > * {
    position: relative;
    z-index: 1;
  }

  /* Transaction Type Button Animations */
  .transaction-btn {
    position: relative;
    cursor: pointer;
    overflow: hidden;
    transition: color 0.5s;
    z-index: 1;
    border: 2px solid;
  }

  .transaction-btn > * {
    position: relative;
    z-index: 1;
  }

  /* Override btn-bubble styles for transaction buttons */
  .transaction-btn.btn-bubble::before {
    content: "";
    position: absolute;
    z-index: -1;
    height: 150px !important;
    width: 200px !important;
    border-radius: 50%;
    top: 100% !important;
    left: 100% !important;
    transition: all 0.7s !important;
    pointer-events: none;
    scale: 1 !important;
    translate: none !important;
    aspect-ratio: auto !important;
  }

  .transaction-btn.btn-bubble.active::before {
    top: -30px !important;
    left: -30px !important;
    scale: 1 !important;
  }

  .transaction-btn-income.btn-bubble.active::before {
    background: #22c55e !important;
  }

  .transaction-btn-expense.btn-bubble.active::before {
    background: #ef4444 !important;
  }

  .transaction-btn.btn-bubble::after {
    display: none;
  }

  .transaction-btn::before {
    content: "";
    position: absolute;
    z-index: -1;
    height: 150px;
    width: 200px;
    border-radius: 50%;
    top: 100%;
    left: 100%;
    transition: all 0.7s;
    pointer-events: none;
  }

  .transaction-btn:hover:not(.active) {
    color: #fff;
  }

  .transaction-btn.active {
    color: inherit;
  }

  .transaction-btn:hover:not(.active)::before {
    top: -30px;
    left: -30px;
  }

  .transaction-btn.active::before {
    top: -30px !important;
    left: -30px !important;
  }

  .transaction-btn:active::before {
    transition: background 0s;
  }

  /* Income button - Green */
  .transaction-btn-income {
    --color: #22c55e; /* green-500 */
    border-color: var(--color);
    color: var(--color);
  }

  .transaction-btn-income::before {
    background: var(--color);
  }

  .transaction-btn-income:active::before {
    background: #16a34a; /* green-600 */
  }

  .transaction-btn-income.active {
    border-color: var(--color);
  }

  .transaction-btn-income.active::before {
    top: -30px !important;
    left: -30px !important;
    background: #22c55e !important; /* green-500 */
  }

  /* Expense button - Red */
  .transaction-btn-expense {
    --color: #ef4444; /* red-500 */
    border-color: var(--color);
    color: var(--color);
  }

  .transaction-btn-expense::before {
    background: var(--color);
  }

  .transaction-btn-expense:active::before {
    background: #dc2626; /* red-600 */
  }

  .transaction-btn-expense.active {
    border-color: var(--color);
  }

  .transaction-btn-expense.active::before {
    top: -30px !important;
    left: -30px !important;
    background: #ef4444 !important; /* red-500 */
  }
}

@layer utilities {
  .glass {
    @apply bg-white/10 backdrop-blur-lg border border-white/20 shadow-lg;
  }
  
  .glass-heavy {
    @apply bg-white/20 backdrop-blur-xl border border-white/30 shadow-xl;
  }
  
  .glass-card {
    @apply bg-card/60 backdrop-blur-md border border-white/10 shadow-sm hover:shadow-md transition-all duration-300;
  }
  
  .glass-panel {
     background: rgba(255, 255, 255, 0.05);
     backdrop-filter: blur(16px);
     -webkit-backdrop-filter: blur(16px);
     border: 1px solid rgba(255, 255, 255, 0.1);
     box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
  }

  .text-gradient {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-primary to-orange-400;
  }
  
  .text-gradient-blue {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-500;
  }
  
  .text-gradient-premium {
      @apply bg-clip-text text-transparent bg-gradient-to-r from-[#E85A3F] via-[#F97316] to-[#d946ef];
  }
}

@keyframes float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-10px); }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 10px rgba(232, 90, 63, 0.2); }
  50% { box-shadow: 0 0 20px rgba(232, 90, 63, 0.6); }
}

@keyframes slide-up {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes count-up {
  from { transform: translateY(100%); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 3s infinite;
}

.animate-slide-up {
  animation: slide-up 0.6s ease-out forwards;
}

/* Custom Scrollbar for Dashboard */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}
::-webkit-scrollbar-track {
  background: transparent;
}
::-webkit-scrollbar-thumb {
  background: var(--color-primary);
  border-radius: 3px;
  opacity: 0.5;
}
::-webkit-scrollbar-thumb:hover {
  background: var(--color-soft-blush-600);
}
